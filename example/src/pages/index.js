import React from 'react'
import { Collapse } from 'react-x-collapse'


const OtherNode = (props) => {
    return (<svg t="1575213818852" style={{curser: 'pointer'}} onClick={ event => {event.stopPropagation();}} className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10743" width="20" height="20"><path d="M510.55151 231.092215c-168.745239 0-449.311239 134.080741-449.311239 299.542191 0 165.42154 280.564977 299.520701 449.311239 299.520701S959.861726 696.055946 959.861726 530.634406c0-165.461449-280.564977-299.54219-449.310216-299.542191z m0 539.240411c-140.320862 0-389.691373-107.318214-389.691373-239.69822 0-132.3841 249.371534-239.718687 389.691373-239.718687 140.319839 0 389.691373 107.334587 389.691373 239.718687 0 132.380006-249.371534 239.698221-389.691373 239.69822z" fill="#020202" p-id="10744"></path><path d="M510.55151 350.886579c-99.268888 0-179.707918 80.478939-179.707918 179.747827 0 99.249445 80.43903 179.708941 179.707918 179.708941 99.269911 0 179.708941-80.459496 179.708941-179.708941 0-99.269911-80.43903-179.747827-179.708941-179.747827z m0 299.559586c-66.191538 0-119.832226-53.658084-119.832226-119.811759 0-66.192561 53.639664-119.833249 119.832226-119.833249 66.154699 0 119.79334 53.640688 119.79334 119.833249 0 66.154699-53.638641 119.81176-119.79334 119.811759z" fill="#020202" p-id="10745"></path></svg>)
}

const CustomIcon = (props) => {
    return <svg t="1575218747174" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11781" width="40" height="40"><path d="M18.5 0v1024" fill="" p-id="11782"></path><path d="M34.5 0v1024" fill="" p-id="11783"></path><path d="M50.5 0v1024" fill="" p-id="11784"></path><path d="M66.5 0v1024" fill="" p-id="11785"></path><path d="M82.5 0v1024" fill="" p-id="11786"></path><path d="M98.5 0v1024" fill="" p-id="11787"></path><path d="M114.5 0v1024" fill="" p-id="11788"></path><path d="M130.5 0v1024" fill="" p-id="11789"></path><path d="M146.5 0v1024" fill="" p-id="11790"></path><path d="M162.5 0v1024" fill="" p-id="11791"></path><path d="M178.5 0v1024" fill="" p-id="11792"></path><path d="M194.5 0v1024" fill="" p-id="11793"></path><path d="M210.5 0v1024" fill="" p-id="11794"></path><path d="M226.5 0v1024" fill="" p-id="11795"></path><path d="M242.5 0v1024" fill="" p-id="11796"></path><path d="M258.5 0v1024" fill="" p-id="11797"></path><path d="M274.5 0v1024" fill="" p-id="11798"></path><path d="M290.5 0v1024" fill="" p-id="11799"></path><path d="M306.5 0v1024" fill="" p-id="11800"></path><path d="M322.5 0v1024" fill="" p-id="11801"></path><path d="M338.5 0v1024" fill="" p-id="11802"></path><path d="M354.5 0v1024" fill="" p-id="11803"></path><path d="M370.5 0v1024" fill="" p-id="11804"></path><path d="M386.5 0v1024" fill="" p-id="11805"></path><path d="M402.5 0v1024" fill="" p-id="11806"></path><path d="M418.5 0v1024" fill="" p-id="11807"></path><path d="M434.5 0v1024" fill="" p-id="11808"></path><path d="M450.5 0v1024" fill="" p-id="11809"></path><path d="M466.5 0v1024" fill="" p-id="11810"></path><path d="M482.5 0v1024" fill="" p-id="11811"></path><path d="M498.5 0v1024" fill="" p-id="11812"></path><path d="M514.5 0v1024" fill="" p-id="11813"></path><path d="M530.5 0v1024" fill="" p-id="11814"></path><path d="M546.5 0v1024" fill="" p-id="11815"></path><path d="M562.5 0v1024" fill="" p-id="11816"></path><path d="M578.5 0v1024" fill="" p-id="11817"></path><path d="M594.5 0v1024" fill="" p-id="11818"></path><path d="M610.5 0v1024" fill="" p-id="11819"></path><path d="M626.5 0v1024" fill="" p-id="11820"></path><path d="M642.5 0v1024" fill="" p-id="11821"></path><path d="M658.5 0v1024" fill="" p-id="11822"></path><path d="M674.5 0v1024" fill="" p-id="11823"></path><path d="M690.5 0v1024" fill="" p-id="11824"></path><path d="M706.5 0v1024" fill="" p-id="11825"></path><path d="M722.5 0v1024" fill="" p-id="11826"></path><path d="M738.5 0v1024" fill="" p-id="11827"></path><path d="M754.5 0v1024" fill="" p-id="11828"></path><path d="M770.5 0v1024" fill="" p-id="11829"></path><path d="M786.5 0v1024" fill="" p-id="11830"></path><path d="M802.5 0v1024" fill="" p-id="11831"></path><path d="M818.5 0v1024" fill="" p-id="11832"></path><path d="M834.5 0v1024" fill="" p-id="11833"></path><path d="M850.5 0v1024" fill="" p-id="11834"></path><path d="M866.5 0v1024" fill="" p-id="11835"></path><path d="M882.5 0v1024" fill="" p-id="11836"></path><path d="M898.5 0v1024" fill="" p-id="11837"></path><path d="M914.5 0v1024" fill="" p-id="11838"></path><path d="M930.5 0v1024" fill="" p-id="11839"></path><path d="M946.5 0v1024" fill="" p-id="11840"></path><path d="M962.5 0v1024" fill="" p-id="11841"></path><path d="M978.5 0v1024" fill="" p-id="11842"></path><path d="M994.5 0v1024" fill="" p-id="11843"></path><path d="M1010.5 0v1024M2.5 16h1019" fill="" p-id="11844"></path><path d="M2.5 32h1019" fill="" p-id="11845"></path><path d="M2.5 48h1019" fill="" p-id="11846"></path><path d="M2.5 64h1019" fill="" p-id="11847"></path><path d="M2.5 80h1019" fill="" p-id="11848"></path><path d="M2.5 96h1019" fill="" p-id="11849"></path><path d="M2.5 112h1019" fill="" p-id="11850"></path><path d="M2.5 128h1019" fill="" p-id="11851"></path><path d="M2.5 144h1019" fill="" p-id="11852"></path><path d="M2.5 160h1019" fill="" p-id="11853"></path><path d="M2.5 176h1019" fill="" p-id="11854"></path><path d="M2.5 192h1019" fill="" p-id="11855"></path><path d="M2.5 208h1019" fill="" p-id="11856"></path><path d="M2.5 224h1019" fill="" p-id="11857"></path><path d="M2.5 240h1019" fill="" p-id="11858"></path><path d="M2.5 256h1019" fill="" p-id="11859"></path><path d="M2.5 272h1019" fill="" p-id="11860"></path><path d="M2.5 288h1019" fill="" p-id="11861"></path><path d="M2.5 304h1019" fill="" p-id="11862"></path><path d="M2.5 320h1019" fill="" p-id="11863"></path><path d="M2.5 336h1019" fill="" p-id="11864"></path><path d="M2.5 352h1019" fill="" p-id="11865"></path><path d="M2.5 368h1019" fill="" p-id="11866"></path><path d="M2.5 384h1019" fill="" p-id="11867"></path><path d="M2.5 400h1019" fill="" p-id="11868"></path><path d="M2.5 416h1019" fill="" p-id="11869"></path><path d="M2.5 432h1019" fill="" p-id="11870"></path><path d="M2.5 448h1019" fill="" p-id="11871"></path><path d="M2.5 464h1019" fill="" p-id="11872"></path><path d="M2.5 480h1019" fill="" p-id="11873"></path><path d="M2.5 496h1019" fill="" p-id="11874"></path><path d="M2.5 512h1019" fill="" p-id="11875"></path><path d="M2.5 528h1019" fill="" p-id="11876"></path><path d="M2.5 544h1019" fill="" p-id="11877"></path><path d="M2.5 560h1019" fill="" p-id="11878"></path><path d="M2.5 576h1019" fill="" p-id="11879"></path><path d="M2.5 592h1019" fill="" p-id="11880"></path><path d="M2.5 608h1019" fill="" p-id="11881"></path><path d="M2.5 624h1019" fill="" p-id="11882"></path><path d="M2.5 640h1019" fill="" p-id="11883"></path><path d="M2.5 656h1019" fill="" p-id="11884"></path><path d="M2.5 672h1019" fill="" p-id="11885"></path><path d="M2.5 688h1019" fill="" p-id="11886"></path><path d="M2.5 704h1019" fill="" p-id="11887"></path><path d="M2.5 720h1019" fill="" p-id="11888"></path><path d="M2.5 736h1019" fill="" p-id="11889"></path><path d="M2.5 752h1019" fill="" p-id="11890"></path><path d="M2.5 768h1019" fill="" p-id="11891"></path><path d="M2.5 784h1019" fill="" p-id="11892"></path><path d="M2.5 800h1019" fill="" p-id="11893"></path><path d="M2.5 816h1019" fill="" p-id="11894"></path><path d="M2.5 832h1019" fill="" p-id="11895"></path><path d="M2.5 848h1019" fill="" p-id="11896"></path><path d="M2.5 864h1019" fill="" p-id="11897"></path><path d="M2.5 880h1019" fill="" p-id="11898"></path><path d="M2.5 896h1019" fill="" p-id="11899"></path><path d="M2.5 912h1019" fill="" p-id="11900"></path><path d="M2.5 928h1019" fill="" p-id="11901"></path><path d="M2.5 944h1019" fill="" p-id="11902"></path><path d="M2.5 960h1019" fill="" p-id="11903"></path><path d="M2.5 976h1019" fill="" p-id="11904"></path><path d="M2.5 992h1019" fill="" p-id="11905"></path><path d="M2.5 1008h1019" fill="" p-id="11906"></path><path d="M367.368 723.577V300.425c0-11.952 15.543-20.321 26.297-10.76l253.41 206.797c9.557 7.171 9.557 22.713 0 29.877l-253.41 209.186c-10.76 8.371-26.297 1.197-26.297-11.952z" fill="#666666" p-id="11907"></path></svg>
}

const content = `A dog is a type of domesticated animal. Known for its loyalty and faithfulness, it can be found
as a welcome guest in many households across the world.`

const customPanelStyle = {
    background: '#dddddd',
    borderRadius: 4,
    marginBottom: 24,
    border: 0,
    overflow: 'hidden',
};

export default class extends React.Component {

    constructor(props) {
        super(props)
        this.oridinary = React.createRef()
        this.accordion = React.createRef()
        this.nest = React.createRef()
        this.concise = React.createRef()
        this.hideIcon = React.createRef()
        this.moreNode = React.createRef()
        this.custom = React.createRef()
        this.state = {
            iconPosition: 'left',
            modes: [
                {
                    mode: '普通模式',
                    ref: this.oridinary,
                },
                {
                    mode: '手风琴模式',
                    ref: this.accordion,
                },
                {
                    mode: '嵌套模式',
                    ref: this.nest,
                },
                {
                    mode: '简洁模式',
                    ref: this.concise,
                },
                {
                    mode: '隐藏图标',
                    ref: this.hideIcon,
                },
                {
                    mode: '额外节点',
                    ref: this.moreNode,
                },
                {
                    mode: '自定义面板',
                    ref: this.custom,
                }, 
            ],
            activeMode: '普通模式',
            collapseApi: [
                {
                    arg: 'accordion',
                    type: 'boolean',
                    default: 'false',
                    intro: '是否开启手风琴模式',
                },
                {
                    arg: 'defaultProps',
                    type: 'array',
                    default: '[]',
                    intro: '默认展开的Panel的列表，由Panel的targetKey组成的集合',
                },
                {
                    arg: 'onChange',
                    type: 'function',
                    default: '() => {}',
                    intro: '展开或收起Panel的回调函数，参数res为当前Collapse展开的Panel的targetKey组成的列表集合',
                },
                {
                    arg: 'bordered',
                    type: 'boolean',
                    default: 'true',
                    intro: '是否为带边框的默认样式，若为false则应用简洁模式',
                },
                {
                    arg: 'expandIcon',
                    type: 'object',
                    default: 'null',
                    intro: '自定义的图标对象',
                },
                {
                    arg: 'expandIconPosition',
                    type: 'string',
                    default: 'left',
                    intro: '可选值为\'left\' | \'right\', 控制默认图标的位置',
                }
            ],
            panelApi: [
                {
                    arg: 'disabled',
                    type: 'boolean',
                    default: 'false',
                    intro: '控制该Panel是否可以交互(展开或收起)',
                },
                {
                    arg: 'header',
                    type: 'string',
                    default: '\'\'',
                    intro: 'Panel的展示title',
                },
                {
                    arg: 'showArrow',
                    type: 'boolean',
                    default: 'true',
                    intro: '是否展示默认图标',
                },
                {
                    arg: 'extra',
                    type: 'object',
                    default: 'null',
                    intro: '右侧自定义节点对象(可选), 最大尺寸为20px * 20px',
                },
                {
                    arg: 'targetKey',
                    type: 'string|number',
                    default: '无',
                    intro: '必填，需自行提供，若忽略可能导致对应Panel无法展开或收起',
                },
                {
                    arg: 'style',
                    type: 'object',
                    default: '无',
                    intro: '可选，自定义Panel样式',
                }
            ]
        }
    }

    changeAlign(res) {
        this.setState({
            iconPosition: res
        })
    }

    changeMode(res) {
        let { modes } = this.state
        this.setState({
            activeMode: res
        })
        window.scrollTo(0, modes.find(item => item.mode === res).ref.current.offsetTop)
    }

    onChange(res) {
        console.log(res)
    }

    render() {
        const { Panel } = Collapse
        const { iconPosition, modes, activeMode, collapseApi, panelApi } = this.state
        return (
            <div className="demo-wrapper">
                <div className="example-header">React-x-Collapse/折叠面板</div>
                <div className="example-nav">
                    {modes.map(item => (
                        <div className={`nav-item${item.mode === activeMode ? ' nav-item-active' : ''}`} key={item.mode} onClick={() => {this.changeMode(item.mode)}}>{item.mode}</div>
                    ))}
                </div>
                <div className="example-wrapper">
                    <p ref={this.oridinary} className="mode-title">普通模式</p>
                    <Collapse onChange={(res) => {this.onChange(res)}} defaultActiveKey={[1, 2]}>
                        <Panel targetKey={1} header="This is panel header 1"> {content}</Panel>
                        <Panel targetKey={2} header="This is panel header 2"> {content}</Panel>
                        <Panel targetKey={3} header="This is panel header 3" disabled={true}> {content}</Panel>
                    </Collapse>
                    <p ref={this.accordion} className="mode-title">手风琴模式</p>
                    <Collapse accordion={true}>
                        <Panel targetKey={1} header="This is panel header 1"> {content}</Panel>
                        <Panel targetKey={2} header="This is panel header 2"> {content}</Panel>
                        <Panel targetKey={3} header="This is panel header 3"> {content}</Panel>
                    </Collapse>
                    <p ref={this.nest} className="mode-title">嵌套模式</p>
                    <Collapse>
                        <Panel targetKey={1} header="This is panel header 1">
                            <Collapse>
                                <Panel targetKey={1} header="This is panel header 1">{content}</Panel>
                                <Panel targetKey={2} header="This is panel header 2"> {content}</Panel>
                                <Panel targetKey={3} header="This is panel header 3"> {content}</Panel>
                                <Panel targetKey={4} header="This is panel header 4"> {content}</Panel>
                            </Collapse>
                        </Panel>
                        <Panel targetKey={2} header="This is panel header 2"> {content}</Panel>
                        <Panel targetKey={3} header="This is panel header 3"> {content}</Panel>
                    </Collapse>
                    <p ref={this.concise} className="mode-title">简洁模式</p>
                    <Collapse bordered={false}>
                        <Panel targetKey={'a'} header="This is panel header 1"> {content}</Panel>
                        <Panel targetKey={'b'} header="This is panel header 2"> {content}</Panel>
                        <Panel targetKey={'c'} header="This is panel header 3"> {content}</Panel>
                    </Collapse>
                    <p ref={this.hideIcon} className="mode-title">隐藏图标</p>
                    <Collapse>
                        <Panel targetKey={1} showArrow={false} header="This is panel header 1"> {content}</Panel>
                        <Panel targetKey={2} showArrow={false} header="This is panel header 2"> {content}</Panel>
                        <Panel targetKey={3} showArrow={false} header="This is panel header 3"> {content}</Panel>
                    </Collapse>
                    <p ref={this.moreNode} className="mode-title">额外节点</p>
                    <Collapse expandIconPosition={iconPosition}>
                        <Panel targetKey={1} extra={<OtherNode />} header="This is panel header 1"> {content} </Panel>
                        <Panel targetKey={2} extra={<OtherNode />} header="This is panel header 2"> {content}</Panel>
                        <Panel targetKey={3} extra={<OtherNode />} header="This is panel header 3"> {content}</Panel>
                    </Collapse>
                    <div className="choose-box">
                        点击对应的按钮切换图标的位置
                        <div className="choose-item" onClick={() => {this.changeAlign('left')}}>left</div>
                        <div className="choose-item" onClick={() => {this.changeAlign('right')}}>right</div>
                    </div>
                    <p ref={this.custom} className="mode-title">自定义面板</p>
                    <Collapse expandIcon={<CustomIcon />}>
                        <Panel targetKey={1} style={customPanelStyle} header="This is panel header 1"> {content}</Panel>
                        <Panel targetKey={2} style={customPanelStyle} header="This is panel header 2"> {content}</Panel>
                        <Panel targetKey={3} style={customPanelStyle} header="This is panel header 3"> {content}</Panel>
                    </Collapse>
                    <p className="mode-title">API</p>
                    <table>
                        <thead>
                            <tr>
                                <th>Collapse</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>参数</td>
                                <td>类型</td>
                                <td>默认值</td>
                                <td>说明</td>
                            </tr>
                            {collapseApi.map(item => <tr key={item.arg}>
                            <td>{item.arg}</td>
                            <td>{item.type}</td>
                            <td>{item.default}</td>
                            <td>{item.intro}</td>
                            </tr>)}
                        </tbody>
                    </table>
                    <table>
                        <thead>
                            <tr>
                                <th>Collapse.Panel</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>参数</td>
                                <td>类型</td>
                                <td>默认值</td>
                                <td>说明</td>
                            </tr>
                            {panelApi.map(item => <tr key={item.arg}>
                            <td>{item.arg}</td>
                            <td>{item.type}</td>
                            <td>{item.default}</td>
                            <td>{item.intro}</td>
                            </tr>)}
                        </tbody>
                    </table>
                </div>
            </div>
        )
    }
}